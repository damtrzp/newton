{"ast":null,"code":"import _classCallCheck from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/programowanie/newton-rhapson/newton/src/Plot.js\";\nimport { Chart } from 'chart.js';\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport chartProperties from './ChartProperties';\nimport annotationPlugin from 'chartjs-plugin-annotation';\nimport { derivative } from 'mathjs';\nChart.register(annotationPlugin);\nChart.defaults.font.size = 16;\nChart.defaults.color = \"#bbb\";\nvar context = React.createContext();\nvar initialxAxisLabels = [];\n\nfor (var i = -50; i < 50; i++) {\n  var label = i;\n  initialxAxisLabels.push(label);\n}\n\nvar Plot = /*#__PURE__*/function (_Component) {\n  _inherits(Plot, _Component);\n\n  function Plot(props) {\n    var _this;\n\n    _classCallCheck(this, Plot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Plot).call(this, props));\n    _this.state = {\n      xAxisLabels: initialxAxisLabels,\n      yData: [],\n      //fn: \"x^3 + 5x^2 + 3x + 2\"\n      fn: \"x^3 + 3x^2 + 3x + 20\",\n      curApprox: 2\n    };\n    _this.nextIteration = _this.nextIteration.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Plot, [{\n    key: \"nextIteration\",\n    value: function nextIteration() {\n      // nextApprox = curApprox - f(curApprox)/f'(curApprox)\n      var nextApprox = this.state.curApprox - this.state.fn.evaluate({\n        x: curApprox\n      }) / derivative(this.state.fn, \"x\").evaluate({\n        x: curApprox\n      });\n      this.setState({\n        curApprox: nextApprox\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = {\n        labels: this.state.xAxisLabels,\n        // The function\n        datasets: [{\n          label: \"f(x)=x³ + 5x² + 3x + 2\",\n          borderColor: \"blue\",\n          function: this.state.fn,\n          data: []\n        }, // The function's tangent line\n        {\n          label: \"Tangent\",\n          borderColor: \"gray\",\n          function: this.state.fn,\n          // The function is later manipulated in the plugin for it to be a tangent line\n          data: [],\n          curApprox: this.state.curApprox\n        }]\n      };\n      return /*#__PURE__*/React.createElement(Line, {\n        options: chartProperties.options,\n        data: data,\n        plugins: chartProperties.plugins,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return Plot;\n}(Component);\n\nexport { Plot as default };","map":{"version":3,"names":["Chart","React","Component","Line","chartProperties","annotationPlugin","derivative","register","defaults","font","size","color","context","createContext","initialxAxisLabels","i","label","push","Plot","props","state","xAxisLabels","yData","fn","curApprox","nextIteration","bind","nextApprox","evaluate","x","setState","data","labels","datasets","borderColor","function","options","plugins"],"sources":["/home/programowanie/newton-rhapson/newton/src/Plot.js"],"sourcesContent":["import { Chart } from 'chart.js'\nimport React, { Component } from 'react'\nimport { Line } from 'react-chartjs-2'\nimport chartProperties from './ChartProperties'\nimport annotationPlugin from 'chartjs-plugin-annotation';\nimport { derivative } from 'mathjs';\n\nChart.register(annotationPlugin);\n\n\nChart.defaults.font.size = 16;\nChart.defaults.color = \"#bbb\";\n\nconst context = React.createContext();\n\nlet initialxAxisLabels = [];\nfor(let i = -50; i < 50; i++) {\n  let label = i;\n  initialxAxisLabels.push(label);\n}\n\nexport default class Plot extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      xAxisLabels: initialxAxisLabels,\n      yData: [],\n      //fn: \"x^3 + 5x^2 + 3x + 2\"\n      fn: \"x^3 + 3x^2 + 3x + 20\", \n      curApprox: 2\n    }\n    \n    this.nextIteration = this.nextIteration.bind(this);\n  }\n\n  nextIteration() {\n    // nextApprox = curApprox - f(curApprox)/f'(curApprox)\n    let nextApprox = this.state.curApprox - this.state.fn.evaluate({x: curApprox})/derivative(this.state.fn, \"x\").evaluate({x: curApprox});\n\n    this.setState({\n      curApprox: nextApprox\n    })\n  }\n\n  componentDidMount() {\n  }\n\n\n  render() {\n    let data = {\n      labels: this.state.xAxisLabels,\n      // The function\n      datasets: [{\n        label: \"f(x)=x³ + 5x² + 3x + 2\",\n        borderColor: \"blue\",\n        function: this.state.fn,\n        data: [],\n      }, \n      // The function's tangent line\n      {\n        label: \"Tangent\",\n        borderColor: \"gray\",\n        function: this.state.fn, // The function is later manipulated in the plugin for it to be a tangent line\n        data: [],\n        curApprox: this.state.curApprox\n      },\n    ]\n    }\n\n\n    return (\n      <Line options={chartProperties.options} data={data} plugins={chartProperties.plugins} />\n    )\n  }\n}\n\n\n\n\n"],"mappings":";;;;;;;AAAA,SAASA,KAAT,QAAsB,UAAtB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,iBAArB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,gBAAP,MAA6B,2BAA7B;AACA,SAASC,UAAT,QAA2B,QAA3B;AAEAN,KAAK,CAACO,QAAN,CAAeF,gBAAf;AAGAL,KAAK,CAACQ,QAAN,CAAeC,IAAf,CAAoBC,IAApB,GAA2B,EAA3B;AACAV,KAAK,CAACQ,QAAN,CAAeG,KAAf,GAAuB,MAAvB;AAEA,IAAMC,OAAO,GAAGX,KAAK,CAACY,aAAN,EAAhB;AAEA,IAAIC,kBAAkB,GAAG,EAAzB;;AACA,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAb,EAAiBA,CAAC,GAAG,EAArB,EAAyBA,CAAC,EAA1B,EAA8B;EAC5B,IAAIC,KAAK,GAAGD,CAAZ;EACAD,kBAAkB,CAACG,IAAnB,CAAwBD,KAAxB;AACD;;IAEoBE,I;;;EACnB,cAAYC,KAAZ,EAAmB;IAAA;;IAAA;;IACjB,0EAAMA,KAAN;IAEA,MAAKC,KAAL,GAAa;MACXC,WAAW,EAAEP,kBADF;MAEXQ,KAAK,EAAE,EAFI;MAGX;MACAC,EAAE,EAAE,sBAJO;MAKXC,SAAS,EAAE;IALA,CAAb;IAQA,MAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,uDAArB;IAXiB;EAYlB;;;;oCAEe;MACd;MACA,IAAIC,UAAU,GAAG,KAAKP,KAAL,CAAWI,SAAX,GAAuB,KAAKJ,KAAL,CAAWG,EAAX,CAAcK,QAAd,CAAuB;QAACC,CAAC,EAAEL;MAAJ,CAAvB,IAAuClB,UAAU,CAAC,KAAKc,KAAL,CAAWG,EAAZ,EAAgB,GAAhB,CAAV,CAA+BK,QAA/B,CAAwC;QAACC,CAAC,EAAEL;MAAJ,CAAxC,CAA/E;MAEA,KAAKM,QAAL,CAAc;QACZN,SAAS,EAAEG;MADC,CAAd;IAGD;;;wCAEmB,CACnB;;;6BAGQ;MACP,IAAII,IAAI,GAAG;QACTC,MAAM,EAAE,KAAKZ,KAAL,CAAWC,WADV;QAET;QACAY,QAAQ,EAAE,CAAC;UACTjB,KAAK,EAAE,wBADE;UAETkB,WAAW,EAAE,MAFJ;UAGTC,QAAQ,EAAE,KAAKf,KAAL,CAAWG,EAHZ;UAITQ,IAAI,EAAE;QAJG,CAAD,EAMV;QACA;UACEf,KAAK,EAAE,SADT;UAEEkB,WAAW,EAAE,MAFf;UAGEC,QAAQ,EAAE,KAAKf,KAAL,CAAWG,EAHvB;UAG2B;UACzBQ,IAAI,EAAE,EAJR;UAKEP,SAAS,EAAE,KAAKJ,KAAL,CAAWI;QALxB,CAPU;MAHD,CAAX;MAqBA,oBACE,oBAAC,IAAD;QAAM,OAAO,EAAEpB,eAAe,CAACgC,OAA/B;QAAwC,IAAI,EAAEL,IAA9C;QAAoD,OAAO,EAAE3B,eAAe,CAACiC,OAA7E;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF;IAGD;;;;EArD+BnC,S;;SAAbgB,I"},"metadata":{},"sourceType":"module"}