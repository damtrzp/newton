{"ast":null,"code":"import { create, all, evaluate } from 'mathjs';\nvar chartProperties = {\n  options: {\n    elements: {\n      point: {\n        radius: 0\n      }\n    },\n    responsive: true,\n    scales: {\n      y: {\n        min: -50,\n        max: 250\n      },\n      x: {\n        min: -250,\n        max: 500\n      }\n    }\n  },\n  data: {\n    labels: this.state.xAxisLabels,\n    // The function\n    datasets: [{\n      label: \"f(x)=x³ + 5x² + 3x + 2\",\n      borderColor: \"blue\",\n      function: this.state.fn,\n      data: []\n    }, // The function's tangent line\n    {\n      label: \"Tangent\",\n      borderColor: \"gray\",\n      function: this.state.fn,\n      // The function is later manipulated in the plugin for it to be a tangent line\n      data: [],\n      curApprox: this.state.curApprox\n    }]\n  },\n  plugins: [{\n    beforeInit: function beforeInit(chart) {\n      var data = chart.config.data;\n\n      for (var j = 0; j < data.datasets.length; j++) {\n        for (var i = 0; i < data.labels.length; i++) {\n          var f = data.datasets[j].function;\n          var x = data.labels[i];\n          var y = void 0;\n          y = math.evaluate(f, {\n            x: x\n          });\n\n          if (data.datasets[j].label == \"Tangent\") {\n            var a = data.datasets[j].curApprox;\n            var derivative = math.derivative(f, \"x\"); // L(x) = f '(a) (x - a) + f(a)\n\n            var L = \"\".concat(derivative.evaluate({\n              x: a\n            }), \" * (x-\").concat(a, \") + \").concat(evaluate(f, {\n              x: a\n            }));\n            y = math.evaluate(L, {\n              x: x\n            });\n          }\n\n          data.datasets[j].data.push(y);\n        }\n      }\n    }\n  }],\n  annotation: {\n    annotations: [{\n      type: \"line\",\n      mode: \"vertical\",\n      scaleID: \"x-axis-0\",\n      borderColor: \"red\",\n      label: {\n        content: \"\",\n        enabled: true,\n        position: \"top\"\n      }\n    }]\n  }\n};\nexport default chartProperties;","map":{"version":3,"names":["create","all","evaluate","chartProperties","options","elements","point","radius","responsive","scales","y","min","max","x","data","labels","state","xAxisLabels","datasets","label","borderColor","function","fn","curApprox","plugins","beforeInit","chart","config","j","length","i","f","math","a","derivative","L","push","annotation","annotations","type","mode","scaleID","content","enabled","position"],"sources":["/home/programowanie/newton-rhapson/newton/src/ChartProperties.js"],"sourcesContent":["import { create, all, evaluate } from 'mathjs'\n\n\nlet chartProperties = {\n    options: {\n        elements: {\n          point: {\n            radius: 0\n          }\n        },\n        responsive: true,\n        scales: {\n          y: {\n            min: -50,\n            max: 250\n          },\n          x: {\n            min: -250,\n            max: 500\n          },\n        }\n      },\n      data: {\n        labels: this.state.xAxisLabels,\n        // The function\n        datasets: [{\n          label: \"f(x)=x³ + 5x² + 3x + 2\",\n          borderColor: \"blue\",\n          function: this.state.fn,\n          data: [],\n        }, \n        // The function's tangent line\n        {\n          label: \"Tangent\",\n          borderColor: \"gray\",\n          function: this.state.fn, // The function is later manipulated in the plugin for it to be a tangent line\n          data: [],\n          curApprox: this.state.curApprox\n        },\n      ]\n      },\n      plugins: [{\n        beforeInit: function(chart) {\n          let data = chart.config.data;\n          for(let j = 0; j < data.datasets.length; j++) {\n            for(let i = 0; i < data.labels.length; i++) {\n              let f = data.datasets[j].function;\n              \n              let x = data.labels[i];\n              let y;\n  \n              y = math.evaluate(f, {x: x});\n              if(data.datasets[j].label == \"Tangent\") {\n                let a = data.datasets[j].curApprox;\n  \n  \n                let derivative = math.derivative(f, \"x\")\n  \n                // L(x) = f '(a) (x - a) + f(a)\n                let L = `${derivative.evaluate({x:a})} * (x-${a}) + ${evaluate(f, {x:a})}`;\n                \n  \n                y = math.evaluate(L, {x:x});\n              }\n              \n  \n              data.datasets[j].data.push(y);\n            }\n          }\n        }\n    }],\n    annotation: {\n      annotations: [\n        {\n          type: \"line\",\n          mode: \"vertical\",\n          scaleID: \"x-axis-0\",\n          borderColor: \"red\",\n          label: {\n            content: \"\",\n            enabled: true,\n            position: \"top\"\n          }\n        }\n      ]\n    }\n}\n\nexport default chartProperties;"],"mappings":"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"},"metadata":{},"sourceType":"module"}