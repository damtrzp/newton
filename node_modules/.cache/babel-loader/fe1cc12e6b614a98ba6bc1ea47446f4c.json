{"ast":null,"code":"// @ts-ignore-file\n// issue: https://github.com/maurizzzio/function-plot/issues/6\n// solution: the line type is selecting the derivative line when the content is re-drawn, then when the\n// derivative was redrawn an already selected line (by the line type) was used thus making a single line\n// disappear from the graph, to avoid the selection of the derivative line the selector needs to\n// work only for immediate children which is done with `:scope >`\n// src: http://stackoverflow.com/questions/6481612/queryselector-search-immediate-children\n\n/*eslint-disable */\nif (typeof window !== 'undefined') (function (doc, proto) {\n  try {\n    // check if browser supports :scope natively\n    doc.querySelector(':scope body');\n  } catch (err) {\n    // polyfill native methods if it doesn't\n    ['querySelector', 'querySelectorAll'].forEach(function (method) {\n      // @ts-ignore\n      const native = proto[method]; // @ts-ignore\n\n      proto[method] = function (selectors) {\n        if (/(^|,)\\s*:scope/.test(selectors)) {\n          // only if selectors contains :scope\n          const id = this.id; // remember current element id\n\n          this.id = 'ID_' + Date.now(); // assign new unique id\n\n          selectors = selectors.replace(/((^|,)\\s*):scope/g, '$1#' + this.id); // replace :scope with #ID\n          // @ts-ignore\n\n          const result = doc[method](selectors);\n          this.id = id; // restore previous id\n\n          return result;\n        } else {\n          return native.call(this, selectors); // use native code for other selectors\n        }\n      };\n    });\n  }\n})(window.document, Element.prototype); // @ts-ignore-end\n\n/* eslint-enable */","map":{"version":3,"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA,IAAI,OAAOA,MAAP,KAAkB,WAAtB,EACA,CAAC,UAAUC,GAAV,EAAeC,KAAf,EAAoB;EACnB,IAAI;IAAE;IACJD,GAAG,CAACE,aAAJ,CAAkB,aAAlB;EACD,CAFD,CAEE,OAAOC,GAAP,EAAY;IAAE;IACd,CAAC,eAAD,EAAkB,kBAAlB,EAAsCC,OAAtC,CAA8C,UAAUC,MAAV,EAAgB;MAC5D;MACA,MAAMC,MAAM,GAAGL,KAAK,CAACI,MAAD,CAApB,CAF4D,CAG5D;;MACAJ,KAAK,CAACI,MAAD,CAAL,GAAgB,UAAUE,SAAV,EAAmB;QACjC,IAAI,iBAAiBC,IAAjB,CAAsBD,SAAtB,CAAJ,EAAsC;UAAE;UACtC,MAAME,EAAE,GAAG,KAAKA,EAAhB,CADoC,CACjB;;UACnB,KAAKA,EAAL,GAAU,QAAQC,IAAI,CAACC,GAAL,EAAlB,CAFoC,CAEP;;UAC7BJ,SAAS,GAAGA,SAAS,CAACK,OAAV,CAAkB,mBAAlB,EAAuC,QAAQ,KAAKH,EAApD,CAAZ,CAHoC,CAGiC;UACrE;;UACA,MAAMI,MAAM,GAAGb,GAAG,CAACK,MAAD,CAAH,CAAYE,SAAZ,CAAf;UACA,KAAKE,EAAL,GAAUA,EAAV,CANoC,CAMvB;;UACb,OAAOI,MAAP;QACD,CARD,MAQO;UACL,OAAOP,MAAM,CAACQ,IAAP,CAAY,IAAZ,EAAkBP,SAAlB,CAAP,CADK,CAC+B;QACrC;MACF,CAZD;IAaD,CAjBD;EAkBD;AACF,CAvBD,EAuBGR,MAAM,CAACgB,QAvBV,EAuBoBC,OAAO,CAACC,SAvB5B,E,CAwBA;;AACA","names":["window","doc","proto","querySelector","err","forEach","method","native","selectors","test","id","Date","now","replace","result","call","document","Element","prototype"],"sources":["../src/polyfills.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}