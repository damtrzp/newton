{"ast":null,"code":"import { create, all, evaluate } from 'mathjs'; // math.js\n\nvar config = {\n  epsilon: 1e-12,\n  matrix: 'Matrix',\n  number: 'number',\n  precision: 64,\n  predictable: false,\n  randomSeed: null\n};\nvar math = create(all, config);\nvar chartProperties = {\n  options: {\n    elements: {\n      point: {\n        radius: 0\n      }\n    },\n    responsive: true,\n    scales: {\n      y: {\n        min: -50,\n        max: 250\n      },\n      x: {\n        min: -250,\n        max: 500\n      }\n    },\n    plugins: {\n      autocolors: false,\n      annotation: {\n        annotations: {\n          box1: {\n            // Indicates the type of annotation\n            type: 'box',\n            xMin: 1,\n            xMax: 2,\n            yMin: 50,\n            yMax: 70,\n            backgroundColor: 'rgba(255, 99, 132, 0.25)'\n          }\n        }\n      }\n    }\n  },\n  plugins: [{\n    beforeInit: function beforeInit(chart) {\n      var data = chart.config.data;\n\n      for (var j = 0; j < data.datasets.length; j++) {\n        for (var i = 0; i < data.labels.length; i++) {\n          var f = data.datasets[j].function;\n          var x = data.labels[i];\n          var y = void 0;\n          y = math.evaluate(f, {\n            x: x\n          });\n\n          if (data.datasets[j].label == \"Tangent\") {\n            var a = data.datasets[j].curApprox;\n            var derivative = math.derivative(f, \"x\"); // L(x) = f '(a) (x - a) + f(a)\n\n            var L = \"\".concat(derivative.evaluate({\n              x: a\n            }), \" * (x-\").concat(a, \") + \").concat(evaluate(f, {\n              x: a\n            }));\n            y = math.evaluate(L, {\n              x: x\n            });\n          }\n\n          data.datasets[j].data.push(y);\n        }\n      }\n    },\n    annotation: {\n      annotations: {\n        line1: {\n          type: 'line',\n          yMin: 10,\n          yMax: 10,\n          borderColor: 'white',\n          borderWidth: 2\n        }\n      }\n    }\n  }]\n};\nexport default chartProperties;","map":{"version":3,"names":["create","all","evaluate","config","epsilon","matrix","number","precision","predictable","randomSeed","math","chartProperties","options","elements","point","radius","responsive","scales","y","min","max","x","plugins","autocolors","annotation","annotations","box1","type","xMin","xMax","yMin","yMax","backgroundColor","beforeInit","chart","data","j","datasets","length","i","labels","f","function","label","a","curApprox","derivative","L","push","line1","borderColor","borderWidth"],"sources":["/home/programowanie/newton-rhapson/newton/src/ChartProperties.js"],"sourcesContent":["import { create, all, evaluate } from 'mathjs'\n\n// math.js\nconst config = {\n  epsilon: 1e-12,\n  matrix: 'Matrix',\n  number: 'number',\n  precision: 64,\n  predictable: false,\n  randomSeed: null\n}\nconst math = create(all, config)\n\nlet chartProperties = {\n    options: {\n        elements: {\n          point: {\n            radius: 0\n          }\n        },\n        responsive: true,\n        scales: {\n          y: {\n            min: -50,\n            max: 250 \n          },\n          x: {\n            min: -250,\n            max: 500\n          },\n        },\n        plugins: {\n          autocolors: false,\n          annotation: {\n            annotations: {\n              box1: {\n                // Indicates the type of annotation\n                type: 'box',\n                xMin: 1,\n                xMax: 2,\n                yMin: 50,\n                yMax: 70,\n                backgroundColor: 'rgba(255, 99, 132, 0.25)'\n              }\n            }\n          }\n        }\n      },\n      plugins: [{\n        beforeInit: function(chart) {\n          let data = chart.config.data;\n          for(let j = 0; j < data.datasets.length; j++) {\n            for(let i = 0; i < data.labels.length; i++) {\n              let f = data.datasets[j].function;\n              \n              let x = data.labels[i];\n              let y;\n  \n              y = math.evaluate(f, {x: x});\n              if(data.datasets[j].label == \"Tangent\") {\n                let a = data.datasets[j].curApprox;\n  \n  \n                let derivative = math.derivative(f, \"x\")\n  \n                // L(x) = f '(a) (x - a) + f(a)\n                let L = `${derivative.evaluate({x:a})} * (x-${a}) + ${evaluate(f, {x:a})}`;\n                \n  \n                y = math.evaluate(L, {x:x});\n              }\n              \n  \n              data.datasets[j].data.push(y);\n            }\n          }\n        },\n        annotation: {\n          annotations: {\n            line1: {\n              type: 'line',\n              yMin: 10,\n              yMax: 10,\n              borderColor: 'white',\n              borderWidth: 2,\n            }\n          }\n        }\n    }],\n    \n}\n\nexport default chartProperties;"],"mappings":"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"},"metadata":{},"sourceType":"module"}