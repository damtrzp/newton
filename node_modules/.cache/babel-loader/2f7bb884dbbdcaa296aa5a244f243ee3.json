{"ast":null,"code":"import _objectSpread from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/programowanie/newton-rhapson/newton/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/programowanie/newton-rhapson/newton/src/Plot.js\";\nimport { Chart } from 'chart.js';\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport chartProperties from './ChartProperties';\nimport annotationPlugin from 'chartjs-plugin-annotation';\nimport zoomPlugin from 'chartjs-plugin-zoom';\nimport { derivative, random, thomsonCrossSectionDependencies } from 'mathjs';\nimport { create, all, evaluate } from 'mathjs';\nimport randomPolynomial from './randomPolynomial';\nimport TangentToGraph from './tangentLine';\nimport Menu from './Menu'; // math.js\n\nvar config = {\n  epsilon: 1e-12,\n  matrix: 'Matrix',\n  number: 'number',\n  precision: 64,\n  predictable: false,\n  randomSeed: null\n};\nvar math = create(all, config);\nChart.register(annotationPlugin);\nChart.register(zoomPlugin);\nChart.defaults.font.size = 16;\nChart.defaults.color = \"#bbb\";\nvar initialxAxisLabels = [];\nvar xDivident = 10;\n\nfor (var i = -50; i < 50; i++) {\n  var label = i / xDivident;\n  initialxAxisLabels.push(label);\n}\n\nvar Plot = /*#__PURE__*/function (_Component) {\n  _inherits(Plot, _Component);\n\n  function Plot(props) {\n    var _this;\n\n    _classCallCheck(this, Plot);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Plot).call(this, props));\n    _this.nextIteration = _this.nextIteration.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.randomizePolynomial = _this.randomizePolynomial.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setFunction = _this.setFunction.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setApprox = _this.setApprox.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getAllFunctionData = _this.getAllFunctionData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateApproxAnnotations = _this.updateApproxAnnotations.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    var initFunc = randomPolynomial();\n    var initDerivative = derivative(initFunc, \"x\");\n\n    var funcData = _this.getAllFunctionData(initFunc, initialxAxisLabels);\n\n    _this.state = {\n      xAxisLabels: initialxAxisLabels,\n      yData: [funcData.yData],\n      fn: initFunc,\n      derivative: initDerivative,\n      curApprox: null,\n      options: chartProperties.options\n    };\n    _this.chartRef = React.createRef();\n    _this.approxRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(Plot, [{\n    key: \"setFunction\",\n    value: function setFunction(f) {\n      var state = this.getAllFunctionData(f, this.state.xAxisLabels, this.state.curApprox);\n      this.setState(state);\n    }\n  }, {\n    key: \"getAllFunctionData\",\n    value: function getAllFunctionData(f, xAxisLabels, a) {\n      var fprime = derivative(f, \"x\"); // Update the chart\n\n      var yData = [];\n      var tangentData = [];\n\n      for (var _i = 0; _i < xAxisLabels.length; _i++) {\n        var x = xAxisLabels[_i];\n        yData.push(math.evaluate(f, {\n          x: x\n        }));\n\n        if (a) {\n          var L = TangentToGraph(f, a, fprime);\n          tangentData.push(math.evaluate(L, {\n            x: x\n          }));\n        }\n      }\n\n      return {\n        yData: yData,\n        tangentData: tangentData,\n        fn: f,\n        derivative: fprime\n      };\n    }\n  }, {\n    key: \"randomizePolynomial\",\n    value: function randomizePolynomial() {\n      this.setFunction(randomPolynomial());\n      this.approxRef.current && (this.approxRef.current.value = \"\");\n      this.setState({\n        curApprox: null,\n        nextApprox: null\n      });\n      this.chartRef.current && this.chartRef.current.update();\n      this.updateApproxAnnotations();\n    }\n  }, {\n    key: \"setApprox\",\n    value: function setApprox() {\n      var _this2 = this;\n\n      var curApproxFromHTML = this.approxRef.current.value;\n      console.log(curApproxFromHTML); // Check if input is correct\n\n      if (!isNaN(curApproxFromHTML)) {\n        this.setState({\n          approxInputColor: \"\"\n        });\n        this.setState({\n          curApprox: Number(curApproxFromHTML)\n        }, function () {\n          _this2.chartRef.current.update();\n\n          _this2.nextIteration();\n\n          _this2.updateApproxAnnotations();\n        });\n      } else {\n        // Error in input indication\n        this.setState({\n          approxInputColor: \"#9c2b2e\"\n        });\n      }\n    }\n  }, {\n    key: \"updateApproxAnnotations\",\n    value: function updateApproxAnnotations() {\n      var curApprox = this.state.curApprox;\n      var xOffset = this.state.xAxisLabels[0];\n      var f = this.state.fn;\n      var nextApprox = this.state.nextApprox || curApprox;\n      console.table(curApprox, xOffset, f, nextApprox);\n      this.setState(function (prevState) {\n        return {\n          options: _objectSpread({}, prevState.options, {\n            plugins: _objectSpread({}, prevState.options.plugins, {\n              annotation: _objectSpread({}, prevState.options.plugins.annotation, {\n                annotations: _objectSpread({}, prevState.options.plugins.annotation.annotations, {\n                  curApprox: {\n                    type: 'point',\n                    xValue: (nextApprox - xOffset) * xDivident,\n                    yValue: evaluate(f, {\n                      x: nextApprox\n                    }),\n                    backgroundColor: 'rgba(255, 99, 132, 0.25)'\n                  },\n                  nextApprox: {\n                    type: 'point',\n                    xValue: (curApprox - xOffset) * xDivident,\n                    yValue: 0,\n                    backgroundColor: 'rgba(255, 99, 132, 0.25)'\n                  }\n                })\n              })\n            })\n          })\n        };\n      });\n    }\n  }, {\n    key: \"clearApproxAnnotations\",\n    value: function clearApproxAnnotations() {\n      this.setState(function (prevState) {\n        return {\n          options: _objectSpread({}, prevState.options, {\n            plugins: _objectSpread({}, prevState.options.plugins, {\n              annotation: _objectSpread({}, prevState.options.plugins.annotation, {\n                annotations: _objectSpread({}, prevState.options.plugins.annotation.annotations, {\n                  curApprox: {},\n                  nextApprox: {}\n                })\n              })\n            })\n          })\n        };\n      });\n    }\n  }, {\n    key: \"nextIteration\",\n    value: function nextIteration() {\n      var _this3 = this;\n\n      try {\n        // nextApprox = curApprox - f(curApprox)/f'(curApprox)\n        var curApprox = this.state.curApprox;\n        var f = this.state.fn;\n        var nextApprox = curApprox - evaluate(f, {\n          x: curApprox\n        }) / evaluate(this.state.derivative.toString(), {\n          x: curApprox\n        });\n        this.setState({\n          nextApprox: curApprox,\n          curApprox: nextApprox\n        }, function () {\n          _this3.updateApproxAnnotations();\n        }); // Trigger a chart update\n\n        this.setFunction(f);\n      } catch (error) {\n        console.warn(error);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = {\n        labels: this.state.xAxisLabels,\n        // The function\n        datasets: [{\n          label: this.state.fn,\n          borderColor: \"blue\",\n          function: this.state.fn,\n          data: this.state.yData\n        }, // The function's tangent line\n        {\n          label: \"Tangent\",\n          borderColor: \"gray\",\n          function: this.state.fn,\n          // The function is later manipulated in the plugin for it to be a tangent line\n          derivative: this.state.derivative,\n          data: this.state.tangentData,\n          curApprox: this.state.curApprox\n        }]\n      };\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Line, {\n        ref: this.chartRef,\n        options: this.state.options,\n        data: data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Menu, {\n        nextIterationFn: this.nextIteration,\n        nextIterationDisabled: !this.state.yData,\n        randomizePolynomialFn: this.randomizePolynomial,\n        setApproxFn: this.setApprox,\n        approxRef: this.approxRef,\n        approxInputColor: this.state.approxInputColor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Plot;\n}(Component);\n\nexport { Plot as default };","map":{"version":3,"names":["Chart","React","Component","Line","chartProperties","annotationPlugin","zoomPlugin","derivative","random","thomsonCrossSectionDependencies","create","all","evaluate","randomPolynomial","TangentToGraph","Menu","config","epsilon","matrix","number","precision","predictable","randomSeed","math","register","defaults","font","size","color","initialxAxisLabels","xDivident","i","label","push","Plot","props","nextIteration","bind","randomizePolynomial","setFunction","setApprox","getAllFunctionData","updateApproxAnnotations","initFunc","initDerivative","funcData","state","xAxisLabels","yData","fn","curApprox","options","chartRef","createRef","approxRef","f","setState","a","fprime","tangentData","length","x","L","current","value","nextApprox","update","curApproxFromHTML","console","log","isNaN","approxInputColor","Number","xOffset","table","prevState","plugins","annotation","annotations","type","xValue","yValue","backgroundColor","toString","error","warn","data","labels","datasets","borderColor","function"],"sources":["/home/programowanie/newton-rhapson/newton/src/Plot.js"],"sourcesContent":["import { Chart } from 'chart.js'\nimport React, { Component } from 'react'\nimport { Line } from 'react-chartjs-2'\nimport chartProperties from './ChartProperties'\nimport annotationPlugin from 'chartjs-plugin-annotation';\nimport zoomPlugin from 'chartjs-plugin-zoom';\nimport { derivative, random, thomsonCrossSectionDependencies } from 'mathjs';\nimport { create, all, evaluate } from 'mathjs'\nimport randomPolynomial from './randomPolynomial';\nimport TangentToGraph from './tangentLine';\nimport Menu from './Menu';\n\n// math.js\nconst config = {\n  epsilon: 1e-12,\n  matrix: 'Matrix',\n  number: 'number',\n  precision: 64,\n  predictable: false,\n  randomSeed: null\n}\nconst math = create(all, config)\n\nChart.register(annotationPlugin);\nChart.register(zoomPlugin);\n\nChart.defaults.font.size = 16;\nChart.defaults.color = \"#bbb\";\n\nlet initialxAxisLabels = [];\nconst xDivident = 10\nfor(let i = -50; i < 50; i++) {\n  let label = i/xDivident;\n  initialxAxisLabels.push(label);\n}\n\nexport default class Plot extends Component {\n  constructor(props) {\n    super(props);\n\n    this.nextIteration = this.nextIteration.bind(this);\n    this.randomizePolynomial = this.randomizePolynomial.bind(this);\n    this.setFunction = this.setFunction.bind(this);\n    this.setApprox = this.setApprox.bind(this);\n    this.getAllFunctionData = this.getAllFunctionData.bind(this);\n    this.updateApproxAnnotations = this.updateApproxAnnotations.bind(this);\n\n    let initFunc = randomPolynomial();\n    let initDerivative = derivative(initFunc, \"x\");\n    let funcData = this.getAllFunctionData(initFunc, initialxAxisLabels);\n    this.state = {\n      xAxisLabels: initialxAxisLabels,\n      yData: [funcData.yData],\n      fn: initFunc,\n      derivative: initDerivative, \n      curApprox: null,\n      options: chartProperties.options\n    }\n\n    this.chartRef = React.createRef();\n    this.approxRef = React.createRef();\n  }\n\n  setFunction(f) {\n    let state = this.getAllFunctionData(f, this.state.xAxisLabels, this.state.curApprox);\n\n    this.setState(state);\n  }\n  getAllFunctionData(f, xAxisLabels, a) {\n    let fprime = derivative(f, \"x\");\n\n    // Update the chart\n      let yData = [];\n      let tangentData = [];\n      for(let i = 0; i < xAxisLabels.length; i++) {\n        let x = xAxisLabels[i];\n\n        yData.push(math.evaluate(f, {x: x}));\n      \n        if(a) {\n          let L = TangentToGraph(f, a, fprime);\n          tangentData.push(math.evaluate(L, {x:x}));\n        }\n      }\n      return {\n        yData: yData,\n        tangentData: tangentData,\n        fn: f,\n        derivative: fprime\n      }\n  }\n  randomizePolynomial() {\n    this.setFunction(randomPolynomial());\n    this.approxRef.current && (this.approxRef.current.value = \"\");\n    this.setState({\n      curApprox: null,\n      nextApprox: null\n    })\n    this.chartRef.current && this.chartRef.current.update();\n    this.updateApproxAnnotations();\n  }\n  setApprox() {\n      let curApproxFromHTML = this.approxRef.current.value;\n      console.log(curApproxFromHTML);\n      // Check if input is correct\n      if(!isNaN(curApproxFromHTML)) {\n        this.setState({\n          approxInputColor: \"\"\n        })\n        this.setState({\n          curApprox: Number(curApproxFromHTML),\n        }, () => {\n          this.chartRef.current.update();\n          this.nextIteration();\n          this.updateApproxAnnotations();\n        })\n      }\n      else {\n        // Error in input indication\n        this.setState({\n          approxInputColor: \"#9c2b2e\"\n        })\n      }\n      \n\n    \n    \n  }\n  updateApproxAnnotations() {\n    let curApprox = this.state.curApprox;\n    let xOffset = this.state.xAxisLabels[0];\n    let f = this.state.fn;\n    let nextApprox = this.state.nextApprox || curApprox;\n    console.table(curApprox, xOffset, f, nextApprox)\n    this.setState(prevState => ({\n      options: {\n        ...prevState.options,\n        plugins: {\n          ...prevState.options.plugins,           \n          annotation: {                     \n            ...prevState.options.plugins.annotation,   \n            annotations: {\n              ...prevState.options.plugins.annotation.annotations,\n              curApprox: {\n                type: 'point',\n                xValue: (nextApprox - xOffset)*xDivident,\n                yValue: evaluate(f, {x: nextApprox}),\n                backgroundColor: 'rgba(255, 99, 132, 0.25)'\n              },\n              nextApprox: {\n                type: 'point',\n                xValue: (curApprox - xOffset)*xDivident,\n                yValue: 0,\n                backgroundColor: 'rgba(255, 99, 132, 0.25)'\n              }\n            }\n          }\n        }\n      }\n    }))\n  }\n  clearApproxAnnotations() {\n    this.setState(prevState => ({\n      options: {\n        ...prevState.options,\n        plugins: {\n          ...prevState.options.plugins,           \n          annotation: {                     \n            ...prevState.options.plugins.annotation,   \n            annotations: {\n              ...prevState.options.plugins.annotation.annotations,\n              curApprox: {},\n              nextApprox: {}\n            }\n          }\n        }\n      }\n    }))\n  }\n  nextIteration() {\n    try {\n    // nextApprox = curApprox - f(curApprox)/f'(curApprox)\n    let curApprox = this.state.curApprox;\n    let f = this.state.fn;\n    let nextApprox = \n        curApprox \n          -\n        evaluate(f, {x:curApprox})\n          /  \n        evaluate(this.state.derivative.toString(), {x: curApprox});\n\n    this.setState({\n      nextApprox: curApprox,\n      curApprox: nextApprox\n    }, () => {\n      this.updateApproxAnnotations();\n    });\n    // Trigger a chart update\n    this.setFunction(f);\n  }\n  catch(error) {\n    console.warn(error);\n  }\n  }\n\n\n  render() {\n    let data = {\n      labels: this.state.xAxisLabels,\n      // The function\n      datasets: [{\n        label: this.state.fn,\n        borderColor: \"blue\",\n        function: this.state.fn,\n        data: this.state.yData,\n      }, \n      // The function's tangent line\n      {\n        label: \"Tangent\",\n        borderColor: \"gray\",\n        function: this.state.fn, // The function is later manipulated in the plugin for it to be a tangent line\n        derivative: this.state.derivative,\n        data: this.state.tangentData,\n        curApprox: this.state.curApprox\n      },\n      \n    ]\n    }\n    \n    return (\n      <>\n        <Line ref={this.chartRef} \n      options={this.state.options} data={data}/>\n\n        <Menu\n          nextIterationFn={this.nextIteration}\n          nextIterationDisabled={!this.state.yData}\n          randomizePolynomialFn={this.randomizePolynomial}\n          setApproxFn={this.setApprox}\n          approxRef={this.approxRef}\n          approxInputColor={this.state.approxInputColor}\n        >\n        </Menu>\n      </>\n    )\n  }\n}\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}